!function(e){"use strict";jQuery(window).on("elementor:init",function(){var t=elementor.modules.controls.BaseData.extend({isPostSearchReady:!1,dataQueryOption:function(){var e=this.model.get("data_options");return!(!e&&"object"!=typeof e)&&e},getPostTitlesbyID:function(){var t=this,n=this.dataQueryOption(),o=this.getControlValue();if(o&&0!==o.length){_.isArray(o)||(o=[o]);var s={security:ElementHelperor.select2Secret,select_type:"selected",id:o};e.ajax({url:ajaxurl,type:"POST",data:e.extend({},s,n),before:t.addControlSpinner(),success:function(e){t.isPostSearchReady=!0,t.model.set("options",e),t.render()}})}},addControlSpinner:function(){this.ui.select.prop("disabled",!0),this.$el.find(".elementor-control-title").after('<span class="elementor-control-spinner">&nbsp;<i class="eicon-spinner eicon-animation-spin"></i>&nbsp;</span>')},onReady:function(){var t=this;this.dataQueryOption()&&(this.ui.select.select2({placeholder:t.model.get("placeholder")?t.model.get("placeholder"):"Search",minimumInputLength:t.model.get("mininput")?t.model.get("mininput"):0,allowClear:!0,ajax:{url:ajaxurl,dataType:"json",method:"post",delay:250,data:function(n){var o={security:ElementHelperor.select2Secret,select_type:"choose",q:n.term},s=t.model.get("data_options");return e.extend({},o,s)},processResults:function(e){return{results:null!==e?e:[{id:-1,text:"No results found",disabled:!0}]}},cache:!0}}),this.isPostSearchReady||this.getPostTitlesbyID())},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}});elementor.addControlView("elementhelper-select2",t)})}(jQuery);